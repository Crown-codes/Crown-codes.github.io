<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kaizen Neon Site</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;scroll-behavior:smooth}

body{
  font-family:Segoe UI, sans-serif;
  background:linear-gradient(270deg,#00c6ff,#0072ff,#ff00cc,#3333ff);
  background-size:800% 800%;
  animation:bg 15s infinite alternate;
  color:#fff;
}

@keyframes bg{to{background-position:100% 50%}}

canvas{position:fixed;inset:0;z-index:-1}

/* LOADER */
#loader{position:fixed;inset:0;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999}
.loader-ring{width:80px;height:80px;border-radius:50%;border:8px solid rgba(255,255,255,.1);border-top:8px solid #00c6ff;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.loader-text{font-family:'Dancing Script',cursive;font-size:36px;margin-top:20px;color:#00c6ff;text-shadow:0 0 25px #00c6ff}

/* HEADER */
header{text-align:center;padding:80px 20px;background:rgba(0,0,0,.45);backdrop-filter:blur(12px)}
#typing{font-size:48px;font-weight:bold;border-right:3px solid #00c6ff}

/* VISUALIZER */
.visualizer{display:flex;gap:5px;justify-content:center;margin-top:15px;height:30px}
.bar{width:5px;height:10px;background:#00c6ff;box-shadow:0 0 15px #00c6ff;transition:.1s}

/* NAV */
nav{background:rgba(0,0,0,.4);padding:12px;text-align:center;position:sticky;top:0}
nav a{color:white;text-decoration:none;margin:0 14px;font-size:16px}
nav a:hover{text-shadow:0 0 15px #00c6ff}

/* SECTIONS */
section{
  max-width:900px;margin:40px auto;padding:40px;
  background:rgba(255,255,255,.12);
  backdrop-filter:blur(14px);
  border-radius:16px;
  box-shadow:0 0 25px #00c6ff;
  opacity:0;transform:translateY(40px);
  transition:.8s;
}
section.active{opacity:1;transform:none}

.skills span{display:inline-block;margin:6px;padding:10px 16px;background:#00c6ff;border-radius:20px;color:#000}

.project-card{margin-top:20px;padding:20px;background:rgba(0,0,0,.5);border-radius:12px;box-shadow:0 0 18px #00c6ff}

.social a{display:inline-block;margin:8px;padding:10px 18px;background:#00c6ff;border-radius:20px;color:black;text-decoration:none}

/* MUSIC */
.music-player{
  position:fixed;bottom:20px;right:20px;
  background:rgba(0,0,0,.6);
  padding:15px;border-radius:16px;
  box-shadow:0 0 25px #00c6ff
}

footer{text-align:center;padding:25px;background:rgba(0,0,0,.5)}
</style>
</head>

<body>

<div id="loader">
  <div class="loader-ring"></div>
  <div class="loader-text">KAIZEN</div>
</div>

<canvas id="particles"></canvas>

<header>
  <h1 id="typing"></h1>
  <p>Student | Developer | Learner</p>

  <div class="visualizer" id="visualizer">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    <div class="bar"></div><div class="bar"></div>
  </div>
</header>

<nav>
  <a href="#about">About</a>
  <a href="#skills">Skills</a>
  <a href="#projects">Projects</a>
  <a href="#contact">Contact</a>
</nav>

<section id="about">
  <h2>About</h2>
  <p>Hello! I'm Milan Kumar Das, a passionate learner and developer.</p>
</section>

<section id="skills">
  <h2>Skills</h2>
  <div class="skills">
    <span>HTML</span><span>CSS</span><span>JavaScript</span><span>Python</span>
  </div>
</section>

<section id="projects">
  <h2>Projects</h2>
  <div class="project-card">Portfolio Website</div>
  <div class="project-card">Weather App</div>
  <div class="project-card">Landing Page</div>
</section>

<section id="contact">
  <h2>Contact</h2>
  <div class="social">
    <a href="#">GitHub</a>
    <a href="#">LinkedIn</a>
    <a href="#">xyz@gmail.com</a>
  </div>
</section>

<div class="music-player">
  <input type="file" id="musicInput" accept="audio/*">
  <audio id="audio" controls></audio>
</div>

<footer>© 2025 Crown-Codes</footer>

<script>
/* LOADER */
window.addEventListener("load",()=>setTimeout(()=>loader.style.display="none",1200))

/* TYPING */
const words=["KAIZEN","Student","Developer","Learner"]
let w=0,c=0,t=document.getElementById("typing")
function type(){if(c<words[w].length){t.textContent+=words[w][c++];setTimeout(type,120)}else setTimeout(del,1200)}
function del(){if(c>0){t.textContent=words[w].slice(0,--c);setTimeout(del,60)}else{w=(w+1)%words.length;setTimeout(type,200)}}
type()

/* REVEAL */
const sections=document.querySelectorAll("section")
window.addEventListener("scroll",()=>sections.forEach(s=>{
  if(s.getBoundingClientRect().top<innerHeight-120)s.classList.add("active")
}))

/* ===== ✅ MOBILE PERFORMANCE MODE AUTO DETECT ===== */
const isMobile = window.innerWidth < 768 || navigator.hardwareConcurrency <= 4;
const particleCount = isMobile ? 30 : 80;
const visualizerFPS = isMobile ? 30 : 60;

/* PARTICLES */
const canvas=document.getElementById("particles"),ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize)

const pts=[]
for(let i=0;i<particleCount;i++)
  pts.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:2,s:isMobile?0.4:0.8})

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height)
  pts.forEach(p=>{
    p.y+=p.s;if(p.y>canvas.height)p.y=0
    ctx.fillStyle="#00c6ff"
    ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill()
  })
  requestAnimationFrame(animate)
}
animate()

/* MUSIC + BASS VISUALIZER */
const audio=document.getElementById("audio")
const input=document.getElementById("musicInput")
const bars=document.querySelectorAll(".bar")
const audioCtx=new AudioContext()
const analyser=audioCtx.createAnalyser()
analyser.fftSize=isMobile ? 32 : 64
const data=new Uint8Array(analyser.frequencyBinCount)

input.onchange=()=>{
  audio.src=URL.createObjectURL(input.files[0])
  const src=audioCtx.createMediaElementSource(audio)
  src.connect(analyser);analyser.connect(audioCtx.destination)
  audio.play()
}

let lastFrame=0
function viz(time){
  if(time-lastFrame < 1000/visualizerFPS) return requestAnimationFrame(viz)
  lastFrame=time

  analyser.getByteFrequencyData(data)
  bars.forEach((bar,i)=>{
    const v=data[i]/(isMobile?5:3)
    bar.style.height=(v+10)+"px"
    bar.style.background=`hsl(${v*3},100%,60%)`
    bar.style.boxShadow=`0 0 ${isMobile?10:25}px hsl(${v*3},100%,60%)`
  })
  requestAnimationFrame(viz)
}
viz(0)
</script>

</body>
</html>
